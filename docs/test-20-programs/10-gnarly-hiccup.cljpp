PUSH-( ns examples.hiccup POP

PUSH-( defn user-card PUSH-[ user POP
  PUSH-( let PUSH-[
    admin? PUSH-( = :admin PUSH-( :role user POP POP
    verified? PUSH-( :verified user false POP
    age PUSH-( :age user POP
    classes PUSH-( if admin? "card admin" "card user" POP
  POP
    PUSH-[ :div PUSH-{ :class classes POP
      PUSH-[ :div.header
        PUSH-[ :h2 PUSH-( :name user POP POP
        PUSH-( when verified?
          PUSH-[ :span.badge "âœ“ Verified" POP
        POP
      POP
      PUSH-[ :div.body
        PUSH-[ :p "Age: " age POP
        PUSH-[ :p "Role: " PUSH-( name PUSH-( :role user POP POP POP
        PUSH-( if PUSH-( >= age 18 POP
          PUSH-[ :div.status.adult "Adult account" POP
          PUSH-[ :div.status.minor "Minor account" POP
        POP
      POP
      PUSH-( when admin?
        PUSH-[ :div.footer
          PUSH-[ :button PUSH-{ :on-click "deleteUser" POP "Delete User" POP
          PUSH-[ :button PUSH-{ :on-click "editPerms" POP "Edit Permissions" POP
        POP
      POP
    POP
  POP
POP

PUSH-( defn user-list PUSH-[ users POP
  PUSH-[ :div.user-list
    PUSH-[ :h1 "User Directory" POP
    PUSH-( if PUSH-( empty? users POP
      PUSH-[ :p.empty "No users found" POP
      PUSH-[ :div.users
        PUSH-( for PUSH-[ u users POP
          PUSH-[ :div PUSH-{ :key PUSH-( :id u POP POP
            PUSH-( user-card u POP
          POP
        POP
      POP
    POP
  POP
POP

PUSH-( defn dashboard PUSH-[ data POP
  PUSH-( let PUSH-[
    stats PUSH-( :stats data POP
    alerts PUSH-( :alerts data POP
    has-alerts? PUSH-( seq alerts POP
  POP
    PUSH-[ :div#dashboard
      PUSH-[ :header
        PUSH-[ :h1 "Dashboard" POP
        PUSH-( when has-alerts?
          PUSH-[ :div.alert-badge PUSH-( count alerts POP POP
        POP
      POP
      PUSH-[ :main
        PUSH-[ :section.stats
          PUSH-( for PUSH-[ PUSH-[ k v POP stats POP
            PUSH-[ :div.stat PUSH-{ :key k POP
              PUSH-[ :span.label PUSH-( name k POP POP
              PUSH-[ :span.value v POP
            POP
          POP
        POP
        PUSH-( when has-alerts?
          PUSH-[ :section.alerts
            PUSH-[ :h2 "Alerts" POP
            PUSH-( map
              PUSH-( fn PUSH-[ alert POP
                PUSH-[ :div.alert PUSH-{ :class PUSH-( :severity alert POP POP
                  PUSH-[ :p PUSH-( :message alert POP POP
                POP
              POP
              alerts
            POP
          POP
        POP
      POP
    POP
  POP
POP
