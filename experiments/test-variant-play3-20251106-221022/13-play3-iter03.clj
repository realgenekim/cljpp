(ns examples.program13 (:require [clojure.spec.alpha :as s]))
(s/def ::name string?)
(s/def ::age (fn ([n] (and (int? n) (pos? n)))))
(s/def ::email (fn ([email] (re-matches #".+@.+\..+" email))))
(s/def ::user (s/keys :req-un [::name ::age ::email]))
(defn validate-user [user] (s/valid? ::user user))