PUSH-( ns examples.program10 POP-ALL

PUSH-( defn user-badge PUSH-[ PUSH-{ :keys PUSH-[ name verified? role POP POP POP
  PUSH-[ :div.user-badge
    PUSH-[ :span.name name POP
    PUSH-( when verified?
      PUSH-[ :span.badge "âœ“" POP POP
    PUSH-[ :span.role role POP-ALL

PUSH-( defn user-list PUSH-[ users POP
  PUSH-[ :div.user-list
    PUSH-( into PUSH-[ POP
      PUSH-( map
        PUSH-( fn PUSH-[ user POP
          PUSH-[ user-badge user POP-ALL
        users POP-ALL

PUSH-( defn stats-panel PUSH-[ stats POP
  PUSH-( let PUSH-[
    total PUSH-( reduce + PUSH-( vals stats POP POP
  POP
    PUSH-[ :div.stats
      PUSH-[ :h3 PUSH-( str "Total: " total POP POP
      PUSH-( into PUSH-[ POP
        PUSH-( map
          PUSH-( fn PUSH-[ PUSH-[ k v POP POP
            PUSH-[ :div.stat
              PUSH-[ :span k POP
              PUSH-[ :span v POP-ALL
          stats POP-ALL