(ns examples.program27 (:require [reagent.core :as r]))
(defn counter [] (let [count (r/atom 0)] (fn [] [:div [:h3 "Counter"] [:p "Count: " @count] [:button {:on-click (fn [_] (swap! count inc))} "+"] [:button {:on-click (fn [_] (swap! count dec))} "-"]])))
(defn todo-list [] (let [todos (r/atom [{:done false, :id 1, :text "First task"}]) input-val (r/atom "") next-id (r/atom 2)] (fn [] [:div [:h3 "Todo List"] [:div [:input {:value @input-val, :type "text", :on-change (fn [e] (reset! input-val (.. e -target -value)))}] [:button {:on-click (fn [_] (when-not (empty? @input-val) (swap! todos conj {:done false, :id @next-id, :text @input-val}) (swap! next-id inc) (reset! input-val "")))} "Add"]] [:ul (for [todo @todos] [:li {:key (:id todo)} [:input {:type "checkbox", :checked (:done todo), :on-change (fn [_] (swap! todos (fn [ts] (mapv (fn [t] (if (= (:id t) (:id todo)) (update t :done not) t)) ts))))}] [:span {:style {:text-decoration (if (:done todo) "line-through" "none")}} (:text todo)] [:button {:on-click (fn [_] (swap! todos (fn [ts] (vec (remove (fn [t] (= (:id t) (:id todo))) ts)))))} "Remove"]])]])))
(defn filtered-list [] (let [items (r/atom ["Apple" "Banana" "Cherry" "Date" "Elderberry" "Fig" "Grape"]) search (r/atom "")] (fn [] (let [query (clojure.string/lower-case @search) filtered (if (empty? query) @items (filter (fn [item] (clojure.string/includes? (clojure.string/lower-case item) query)) @items))] [:div [:h3 "Filtered List"] [:input {:placeholder "Search...", :value @search, :type "text", :on-change (fn [e] (reset! search (.. e -target -value)))}] [:ul (for [item filtered] [:li {:key item} item])]]))))