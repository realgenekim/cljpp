```clojure
PUSH-( ns examples.program34
  PUSH-( :require
    PUSH-[ compojure.core :refer PUSH-[ defroutes GET POST POP POP
    PUSH-[ compojure.route :as route POP
    PUSH-[ ring.util.response :refer PUSH-[ response POP POP POP POP

PUSH-( defn get-users PUSH-[ POP
  PUSH-( response PUSH-{ :users PUSH-[ "Alice" "Bob" "Charlie" POP POP POP-ALL

PUSH-( defn get-user PUSH-[ PUSH-{ :keys PUSH-[ id POP POP POP
  PUSH-( response PUSH-{ :user id :details PUSH-{ :name "User" :id id POP POP POP-ALL

PUSH-( defn get-user-posts PUSH-[ PUSH-{ :keys PUSH-[ id POP POP POP
  PUSH-( response PUSH-{ :user-id id :posts PUSH-[ PUSH-{ :id 1 :title "First Post" POP PUSH-{ :id 2 :title "Second Post" POP POP POP POP-ALL

PUSH-( defn create-user PUSH-[ PUSH-{ :keys PUSH-[ body POP POP POP
  PUSH-( response PUSH-{ :created true :user body POP POP-ALL

PUSH-( defroutes app-routes
  PUSH-( GET "/users" PUSH-[ POP PUSH-( get-users POP POP
  PUSH-( GET "/users/:id" PUSH-[ id POP PUSH-( get-user PUSH-{ :id id POP POP POP
  PUSH-( GET "/users/:id/posts" PUSH-[ id POP PUSH-( get-user-posts PUSH-{ :id id POP POP POP
  PUSH-( POST "/users" PUSH-{ :keys PUSH-[ body POP POP PUSH-( create-user PUSH-{ :body body POP POP POP
  PUSH-( route/not-found PUSH-( response PUSH-{ :error "Not Found" POP POP POP-ALL
```
