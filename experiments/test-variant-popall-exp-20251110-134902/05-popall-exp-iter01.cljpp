PUSH-( ns examples.program5 POP-ALL

PUSH-( defn process-data PUSH-[ data POP
  PUSH-( -> data
    PUSH-( assoc :count PUSH-( inc PUSH-( :count data POP POP POP
    PUSH-( assoc :items PUSH-( count PUSH-( :items data POP POP POP
    PUSH-( assoc :processed true POP POP-ALL

PUSH-( defn transform-coll PUSH-[ coll POP
  PUSH-( ->> coll
    PUSH-( filter odd? POP
    PUSH-( map PUSH-( fn PUSH-[ x POP PUSH-( * x 2 POP-ALL POP
    PUSH-( reduce + POP POP-ALL