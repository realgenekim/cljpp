PUSH-( ns examples.program13
  PUSH-( :require PUSH-[ clojure.spec.alpha :as s POP POP POP

PUSH-( s/def ::name string? POP

PUSH-( s/def ::age PUSH-( fn PUSH-[ x POP PUSH-( and PUSH-( int? x POP PUSH-( pos? x POP POP POP POP

PUSH-( s/def ::email PUSH-( fn PUSH-[ x POP PUSH-( re-matches #"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" x POP POP POP

PUSH-( s/def ::user PUSH-( s/keys :req-un PUSH-[ ::name ::age ::email POP POP POP

PUSH-( defn validate-user PUSH-[ user POP
  PUSH-( s/valid? ::user user POP POP

PUSH-( defn -main PUSH-[ & args POP
  PUSH-( let PUSH-[ valid-user PUSH-{ :name "Alice" :age 30 :email "alice@example.com" POP
         invalid-user PUSH-{ :name "Bob" :age -5 :email "invalid-email" POP POP
    PUSH-( println "Valid user:" PUSH-( validate-user valid-user POP POP
    PUSH-( println "Invalid user:" PUSH-( validate-user invalid-user POP POP POP POP
