PUSH-( ns examples.program8 POP

PUSH-( defn process-user PUSH-[ PUSH-{ :keys PUSH-[ name age POP :as user POP POP
  PUSH-{ :display-name name
         :years-old age
         :full-user user POP POP

PUSH-( defn process-items PUSH-[ PUSH-[ first second & rest POP POP
  PUSH-{ :first-item first
         :second-item second
         :remaining rest
         :count-remaining PUSH-( count rest POP POP POP

PUSH-( defn nested-extract PUSH-[ PUSH-{ :keys PUSH-[ name POP
                                        address PUSH-{ :keys PUSH-[ city state POP POP POP POP
  PUSH-{ :person-name name
         :location PUSH-( str city ", " state POP POP POP

PUSH-( defn -main PUSH-[ & args POP
  PUSH-( let PUSH-[ user-data PUSH-{ :name "Alice"
                                     :age 30
                                     :email "alice@example.com" POP
                items PUSH-[ "apple" "banana" "cherry" "date" "elderberry" POP
                person PUSH-{ :name "Bob"
                              :address PUSH-{ :city "Portland"
                                              :state "OR"
                                              :zip "97201" POP POP POP
    PUSH-( println "User:" PUSH-( process-user user-data POP POP
    PUSH-( println "Items:" PUSH-( process-items items POP POP
    PUSH-( println "Person:" PUSH-( nested-extract person POP POP POP POP
