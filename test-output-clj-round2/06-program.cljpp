PUSH-( ns examples.program6 POP

PUSH-( defn safe-divide PUSH-[ x y POP
  PUSH-( try
    PUSH-{ :status :ok
           :value PUSH-( / x y POP POP
    PUSH-( catch ArithmeticException e
      PUSH-{ :status :error
             :message PUSH-( str "Division error: " PUSH-( .getMessage e POP POP POP POP
    PUSH-( catch Exception e
      PUSH-{ :status :error
             :message PUSH-( str "Unexpected error: " PUSH-( .getMessage e POP POP POP POP POP POP

PUSH-( defn validate-user PUSH-[ user POP
  PUSH-( cond
    PUSH-( nil? user POP
    PUSH-{ :status :error :message "User cannot be nil" POP

    PUSH-( or PUSH-( nil? PUSH-( :name user POP POP
           PUSH-( empty? PUSH-( :name user POP POP POP
    PUSH-{ :status :error :message "Name cannot be empty" POP

    PUSH-( or PUSH-( nil? PUSH-( :age user POP POP
           PUSH-( neg? PUSH-( :age user POP POP POP
    PUSH-{ :status :error :message "Age must be non-negative" POP

    :else
    PUSH-{ :status :ok :user user POP POP POP
