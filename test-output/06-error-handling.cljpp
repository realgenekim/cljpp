PUSH-( ns examples.errors POP

PUSH-( defn safe-divide PUSH-[ a b POP
  PUSH-( try
    PUSH-( if PUSH-( zero? b POP
      PUSH-( throw PUSH-( ex-info "Division by zero" PUSH-{ :a a :b b POP POP POP
      PUSH-( / a b POP
    POP
    PUSH-( catch Exception e
      PUSH-( println "Error:" PUSH-( ex-message e POP POP
      nil
    POP
  POP
POP

PUSH-( defn validate-user PUSH-[ user POP
  PUSH-( cond
    PUSH-( nil? user POP
      PUSH-{ :ok? false :error "User is nil" POP
    PUSH-( empty? PUSH-( :name user POP POP
      PUSH-{ :ok? false :error "Name is required" POP
    PUSH-( < PUSH-( :age user 0 POP 18 POP
      PUSH-{ :ok? false :error "Must be 18 or older" POP
    :else
      PUSH-{ :ok? true :user user POP
  POP
POP
